(()=>{"use strict";const e=({sectionId:e,modalClass:t,overlayClass:o,openButtonClass:n,closeButtonClass:l})=>{const s=document.querySelector(e),a=document.querySelector(t),r=document.querySelector(o);document.querySelectorAll(".document-overlay").forEach((e=>{e.style.display="none"})),((e,t,o)=>{e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(t)&&(r.style.display="block",o.style.display="block")}))})(s,n,a),((e,t)=>{document.querySelector(e).addEventListener("click",(()=>{r.style.display="none",t.style.display="none"}))})(l,a)};(e=>{const t=document.querySelectorAll(".count_1 span"),o=document.querySelectorAll(".count_2 span"),n=document.querySelectorAll(".count_3 span"),l=document.querySelectorAll(".count_4 span");let s;const a=function(e){return String(e).padStart(2,"0")},r=()=>{let e=(()=>{let e=(new Date("13 august 2022").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,days:Math.floor(e/60/60/24),hours:Math.floor(e/60/60%24),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();t.forEach((t=>t.textContent=a(e.days))),o.forEach((t=>t.textContent=a(e.hours))),n.forEach((t=>t.textContent=a(e.minutes))),l.forEach((t=>t.textContent=a(e.seconds))),e.timeRemaining<0&&(clearInterval(s),t.forEach((e=>e.textContent="00")),o.forEach((e=>e.textContent="00")),n.forEach((e=>e.textContent="00")),l.forEach((e=>e.textContent="00")))};r(),s=setInterval(r,1e3)})(),(()=>{const e=document.querySelector(".smooth-scroll");e.style.display="none",window.addEventListener("scroll",(()=>{document.documentElement.scrollTop<730?e.style.display="none":e.style.display="block"})),seamless.polyfill(),e.addEventListener("click",(e=>{e.preventDefault();const t=document.getElementById("header");t&&seamless.elementScrollIntoView(t,{behavior:"smooth",block:"start"})}))})(),document.querySelectorAll('input[name="fio"]').forEach((e=>{e.addEventListener("input",(e=>e.target.value=e.target.value.replace(/[^а-яa-z\s]/gi,"")))})),function(e,t="+7 (__) --"){const o=document.querySelectorAll(e);function n(e){const o=e.keyCode,n=t,l=n.replace(/\D/g,""),s=this.value.replace(/\D/g,"");let a=0,r=n.replace(/[_\d]/g,(function(e){return a<s.length?s.charAt(a++)||l.charAt(a):e}));a=r.indexOf("_"),-1!=a&&(r=r.slice(0,a));let c=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");c=new RegExp("^"+c+"$"),(!c.test(this.value)||this.value.length<5||o>47&&o<58)&&(this.value=r),"blur"==e.type&&this.value.length<5&&(this.value="")}for(const e of o)e.addEventListener("input",n),e.addEventListener("focus",n),e.addEventListener("blur",n)}('input[name="phone"]',"+7 (___) ___-__-__"),(()=>{try{const e=document.querySelector("#calc"),t=e.querySelector("#calc-type"),o=e.querySelector("#calc-type-material"),n=e.querySelector("#calc-input"),l=e.querySelector("#calc-total"),s=()=>{const e=+t.value,s=+o.value;let a=0;a=e&&s?e*s*n.value:0,l.value=a};e.addEventListener("input",(e=>{e.target!==t&&e.target!==o&&e.target!==n||s()}))}catch(e){console.log(e.message)}})(),(({someElem:e=[]})=>{const t=document.querySelectorAll("form"),o=document.createElement("div");t.forEach((t=>{t.addEventListener("submit",(n=>{n.preventDefault(),((t,n=(()=>{const e=document.createElement("div");return e.classList.add("sk-wave"),e.innerHTML="<div class='sk-rect sk-rect-1'></div>\n                            <div class='sk-rect sk-rect-2'></div>\n                            <div class='sk-rect sk-rect-3'></div>\n                            <div class='sk-rect sk-rect-4'></div>\n                            <div class='sk-rect sk-rect-5'></div>",e})())=>{const l=t.querySelectorAll("input"),s=new FormData(t),a={};var r;s.forEach(((e,t)=>{a[t]=e})),o.classList.add("black"),o.textContent="",o.insertAdjacentElement("afterbegin",n),t.append(o),e.forEach((e=>{try{const t=document.getElementById(e.id);0<+t.value&&(a[e.id]=t.value)}catch(e){console.log(e.message)}})),(e=>{let t=!0;return(e=>{e.forEach((e=>{("fio"===e.name&&""===e.value||"phone"===e.name&&""===e.value)&&e.classList.add("error"),("fio"!==e.name||/^[а-яёЁa-z\s]{2,}$/gi.test(e.value))&&("phone"!==e.name||/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{10,}$/g.test(e.value))||e.classList.add("error"),e.addEventListener("input",(e=>{e.preventDefault(),("fio"===e.target.name&&/^[а-яёЁa-z\s]{2,}$/gi.test(e.target.value)||"phone"===e.target.name&&/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{10,}$/g.test(e.target.value))&&e.target.classList.remove("error")}))}))})(e),e.forEach((e=>{e.classList.contains("error")&&(t=!1)})),t})(l)?(r=a,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(r),headers:{"Content-type":"application/json"}}).then((e=>e.json()))).then((e=>{o.textContent="Спасибо! Наш менеджер с вами свяжется!",l.forEach((e=>{e.value=""}))})).catch((e=>{o.textContent="Ошибка!"})):o.textContent="Ошибка! Введите данные правильно.",setTimeout((()=>o.textContent=""),3e3)})(t)}))}))})({someElem:[{id:"calc-total"}]}),e({sectionId:"#header",modalClass:".header-modal",overlayClass:".overlay",openButtonClass:".open-modal-header",closeButtonClass:".header-modal__close"}),e({sectionId:"#services",modalClass:".services-modal",overlayClass:".overlay",openButtonClass:".open-modal-services",closeButtonClass:".services-modal__close"}),e({sectionId:"#documents",modalClass:".img-modal",overlayClass:".overlay",openButtonClass:".img-responsive",closeButtonClass:".img-modal__close"})})();